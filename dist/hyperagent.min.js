(function(){var e,t;(function(){"use strict";var r={},n={};e=function(e,t,n){r[e]={deps:t,callback:n}},t=function(e){if(n[e])return n[e];n[e]={};for(var i,o=r[e],s=o.deps,a=o.callback,c=[],u=0,p=s.length;p>u;u++)"exports"===s[u]?c.push(i={}):c.push(t(s[u]));var h=a.apply(this,c);return n[e]=i||h}})(),e("hyperagent",["hyperagent/resource","hyperagent/properties","hyperagent/curie","hyperagent/config","exports"],function(e,t,r,n,i){"use strict";function o(e,t){n[e]=t}var s=e.Resource,a=e.LazyResource,c=e.LinkResource,u=t.Properties,p=r.CurieStore;i.Resource=s,i.Properties=u,i.LazyResource=a,i.LinkResource=c,i.CurieStore=p,i.configure=o,i._config=n}),e("hyperagent/config",["hyperagent/miniscore"],function(e){"use strict";var t={};return"undefined"!=typeof window&&(t.ajax=window.$&&window.$.ajax.bind(window.$),t.defer=window.Q&&window.Q.defer,t._=e,t.loadHooks=[]),t}),e("hyperagent/curie",["exports"],function(e){"use strict";function t(){this._store={}}t.prototype.register=function(e,t){this._store[e]=URITemplate(t)},t._split=function(e){var t=e.indexOf(":"),r=e.substring(0,t),n=e.substring(t+1);return-1===e||e===e.length-1?null:[r,n]},t.prototype.empty=function(){return 0===Object.keys(this._store).length},t.prototype.expand=function(e){var r,n=t._split(e);return n?(r=this._store[n[0]],void 0===r?e:r.expand({rel:n[1]})):e},t.prototype.canExpand=function(e){var r=t._split(e);return r?void 0!==this._store[r[0]]:!1},e.CurieStore=t}),e("hyperagent/loader",["hyperagent/config","exports"],function(e,t){"use strict";function r(t){var r=e.defer();return e.ajax(e._.extend(t,{headers:{Accept:"application/hal+json, application/json, */*; q=0.01","X-Requested-With":"XMLHttpRequest"},success:r.resolve,error:r.reject,dataType:"html"})),r.promise}t.loadAjax=r}),e("hyperagent/miniscore",[],function(){"use strict";var e={},t={};return e.each=e.forEach=function(e,r,n){if(null!==e&&void 0!==e)if(e.forEach===Array.prototype.forEach)e.forEach(r,n);else if(e.length===+e.length){for(var i=0,o=e.length;o>i;i++)if(r.call(n,e[i],i,e)===t)return}else for(var s in e)if(e.hasOwnProperty(s)&&r.call(n,e[s],s,e)===t)return},e.contains=function(t,r){return null===t||void 0===t?!1:t.indexOf===Array.prototype.indexOf?-1!==t.indexOf(r):e.any(t,function(e){return e===r})},e.pick=function(t){var r={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return e.each(n,function(e){e in t&&(r[e]=t[e])}),r},e.extend=function(t){return e.each(Array.prototype.slice.call(arguments,1),function(e){if(e)for(var r in e)t[r]=e[r]}),t},e.defaults=function(t){return e.each(Array.prototype.slice.call(arguments,1),function(e){if(e)for(var r in e)(null===t[r]||void 0===t[r])&&(t[r]=e[r])}),t},e.clone=function(t){return t!==Object(t)?t:Array.isArray(t)?t.slice():e.extend({},t)},e}),e("hyperagent/properties",["hyperagent/config","exports"],function(e,t){"use strict";function r(t,r){if(r=r||{},Object(t)!==t)throw Error("The Properties argument must be an object.");e._.defaults(t,r.original||{});var n=["_links","_embedded"];Object.keys(t).forEach(function(r){e._.contains(n,r)||(this[r]=t[r])}.bind(this));var i=r.curies;i&&Object.keys(this).forEach(function(e){i.canExpand(e)&&Object.defineProperty(this,i.expand(e),{enumerable:!0,value:this[e]})}.bind(this))}t.Properties=r}),e("hyperagent/resource",["hyperagent/loader","hyperagent/properties","hyperagent/curie","hyperagent/config","exports"],function(e,t,r,n,i){"use strict";function o(e){this._options=Object(e)===e?e:{url:e},this.props=new p({}),this.embedded={},this.links={},this.curies=new h,this._loadHooks=[this._loadLinks,this._loadEmbedded,this._loadProperties].concat(n.loadHooks),this.loaded=!1}function s(e,t,r){this._parent=e,this._options=l.defaults(r||{},{factory:function(e,t){var r=new o(t);return r._load(e),r}}),Object.defineProperties(this,{_parent:{enumerable:!1},_options:{enumerable:!1}}),l.each(t,function(e,t){Array.isArray(e)?this._setLazyArray(t,e,!0):this._setLazyObject(t,e,!0)}.bind(this));var n=this._options.curies;n&&!n.empty()&&l.each(t,function(e,t){if(n.canExpand(t)){var r=n.expand(t);Array.isArray(e)?this._setLazyArray(r,e,!1):this._setLazyObject(r,e,!1)}}.bind(this))}function a(e,t){o.call(this,t),this._load(e),this.loaded=!0}function c(e,t){o.call(this,t),this.href=e.href,this.templated=e.templated,this.href?this.templated||this._navigateUrl(this.href):console.warn("Link object did not provide an `href`: ",e),this._load(e)}var u=e.loadAjax,p=t.Properties,h=r.CurieStore,l=n._;o.factory=function(e){return function(t,r){return new e(t,r)}},o.prototype.fetch=function(e){if(e=l.defaults(e||{},{force:!1}),this.loaded&&!e.force){var t=n.defer();return t.resolve(this),t.promise}var r=l.pick(this._options,"headers","username","password","url");return this._options.ajax&&l.extend(r,this._options.ajax),u(r).then(function(e){return this._parse(e),this.loaded=!0,this}.bind(this))},o.prototype.url=function(){return this._options.url},o.prototype.link=function(e,t){var r=this.links[e];return t&&r.expand(t),r},o.prototype._parse=function(e){var t=JSON.parse(e);this._load(t)},o.prototype._loadLinks=function(e){e._links&&(e._links.curies&&(this._loadCuries(e._links.curies),delete e._links.curies),e._links.self&&this._navigateUrl(e._links.self.href),this.links=new s(this,e._links,{factory:o.factory(c),curies:this.curies}))},o.prototype._loadEmbedded=function(e){e._embedded&&(this.embedded=new s(this,e._embedded,{factory:o.factory(a),curies:this.curies}))},o.prototype._loadProperties=function(e){this.props=new p(e,{curies:this.curies,original:this.props})},o.prototype._load=function(e){this._loadHooks.forEach(function(t){t.bind(this)(e)}.bind(this))},o.prototype._loadCuries=function(e){return Array.isArray(e)?(e.forEach(function(e){e.templated||console.warn("CURIE links should always be marked as templated: ",e),this.curies.register(e.name,e.href)}.bind(this)),void 0):(console.warn("Expected `curies` to be an array, got instead: ",e),void 0)},o.resolveUrl=function(e,t){if(!t)throw Error("Expected absolute or relative URL, but got: "+t);var r=new URI(t);return r.is("absolute")?""+r.normalize():"/"===t[0]?""+new URI(e).resource(t).normalize():""+new URI([e,t].join("/")).normalize()},o.prototype._navigateUrl=function(e){var t=o.resolveUrl(this._options.url,e);return t!==this._options.url?(this._options.url=t,!0):!1},s.prototype._setLazyObject=function(e,t,r){Object.defineProperty(this,e,{enumerable:r,get:this._makeGetter(t)})},s.prototype._setLazyArray=function(e,t,r){Object.defineProperty(this,e,{enumerable:r,get:function(){return t.map(function(e){return this._makeGetter(e)()}.bind(this))}})},s.prototype._makeGetter=function(e){var t,r=this._parent,n=this._options;return function(){return void 0===t&&(t=new n.factory(e,l.clone(r._options))),t}},l.extend(a.prototype,o.prototype),l.extend(c.prototype,o.prototype),c.prototype.expand=function(e){this.templated||console.log("Trying to expand non-templated LinkResource: ",this);var t=""+new URI.expand(this.href,e);this._navigateUrl(t)&&(this.loaded=!1)},c.prototype.toString=function(){return'LinkResource(url="'+this.url()+'")'},i.Resource=o,i.LazyResource=s,i.LinkResource=c}),window.Hyperagent=t("hyperagent")})();